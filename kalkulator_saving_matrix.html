<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Kalkulator Saving Matrix</title>
  <style>
  body {
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #F0EEEA, #D2E0D3);
    margin: 0;
    padding: 40px 20px;
    color: #3f3f46;
  }

  .container {
    max-width: 1150px;
    margin: auto;
  }

  h1 {
    text-align: center;
    margin-bottom: 36px;
    font-size: 38px;
    font-weight: 800;
    letter-spacing: 1.2px;
    color: #3f3f46;
  }

  .info-card {
    background: linear-gradient(135deg, #97B3AE, #D2E0D3);
    border-radius: 22px;
    padding: 26px;
    margin-bottom: 26px;
    text-align: center;
    box-shadow: 0 15px 30px rgba(151,179,174,0.45);
    color: #3f3f46;
  }

  .info-card input {
    background: rgba(240,238,234,0.7);
    border: none;
    border-radius: 12px;
    padding: 12px;
    margin: 8px auto;
    width: 80%;
    color: #3f3f46;
    text-align: center;
    pointer-events: none;
    font-weight: 600;
  }

  .grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-top: 30px;
  }

  .card {
    background: linear-gradient(180deg, #F0DDD6, #F0EEEA);
    color: #3f3f46;
    border-radius: 22px;
    padding: 30px;
    box-shadow: 0 20px 40px rgba(214,203,191,0.5);
  }

  .card h2 {
    margin-top: 0;
    margin-bottom: 18px;
    font-size: 21px;
    font-weight: 700;
    color: #97B3AE;
  }

  label {
    font-size: 14px;
    font-weight: 600;
    margin-top: 10px;
    display: block;
  }

  input {
    width: 100%;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #d1d5db;
    margin-top: 4px;
  }

  button {
    margin-top: 20px;
    width: 100%;
    padding: 15px;
    border-radius: 16px;
    border: none;
    background: linear-gradient(135deg, #F2C3B9, #F0DDD6);
    color: #3f3f46;
    font-weight: 700;
    font-size: 15px;
    cursor: pointer;
    transition: all 0.25s ease;
  }

  button:hover {
    transform: translateY(-2px);
    box-shadow: 0 15px 30px rgba(242,195,185,0.6);
  }

  button:hover {
    transform: translateY(-3px);
    box-shadow: 0 18px 35px rgba(14,165,233,0.45);
  }

  button:hover {
    transform: translateY(-3px) scale(1.01);
    box-shadow: 0 18px 35px rgba(56,189,248,0.55);
  }

  button:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(14,165,233,0.4);
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
    font-size: 14px;
  }

  th, td {
    border: 1px solid #e5e7eb;
    padding: 8px;
    text-align: center;
  }

  th {
    background: #D6CBBF;
    color: #3f3f46;
    font-weight: 700;
  }
</style>
</head>
<body>
  <div class="container">
  <h1>ðŸ§® OPTIMALISASI RUTE DISTRIBUSI DENGAN METODEÂ SAVINGÂ MATRIX</h1>

  <div class="info-card">
    <strong>Anggota Kelompok</strong><br />
    <input type="text" value="Aditya Dwi Chidayat (2510312022)" readonly disabled />
    <input type="text" value="Geraldo Vishio (2510312112)" readonly disabled />
    <input type="text" value="Joshua Halomoan Sihombing (2510312088)" readonly disabled />
  </div>

  <div class="info-card">
    <div>Teknik Industri</div>
    <div>Universitas Pembangunan Nasional "Veteran" Jakarta</div>
    <div>Tahun 2025</div>
  </div>

  <div class="grid">
    <div class="card">
      <h2>ðŸ“¥ Input Data Jarak</h2>
      <label>Nama Toko Baru</label>
      <input type="text" id="namaToko" placeholder="Contoh: SetiaBudi" />

      <label>Jarak Pabrik ke Toko (km)</label>
      <input type="number" id="jarakPabrik" step="0.1" placeholder="Contoh: 15 km"/>

      <div id="jarakTokoLama"></div>

      <button onclick="tambahToko()">âž• Tambah Toko</button>
    </div>

    <div class="card">
      <h2>ðŸ“Š Saving Matrix</h2>
      <table id="matrix">
        <thead></thead>
        <tbody></tbody>
      </table>
    </div>
  </div>
</div>

<script>
    let toko = [];
    let jarakP = {};      // J(P,i)
    let jarakAntar = {}; // J(i,j)

    function tambahInputJarak() {
      const container = document.getElementById('jarakTokoLama');
      container.innerHTML = '';

      toko.forEach(t => {
        const div = document.createElement('div');
        div.className = 'form-group';
        div.innerHTML = `
          <label>Jarak ${t} ke Toko Baru (km)</label>
          <input type="number" step="0.01" id="jarak-${t}" />
        `;
        container.appendChild(div);
      });
    }

    function tambahToko() {
      const nama = document.getElementById('namaToko').value.trim();
      const jarakPabrik = parseFloat(document.getElementById('jarakPabrik').value);

      if (!nama || isNaN(jarakPabrik)) {
        alert('Lengkapi data toko baru');
        return;
      }

      jarakP[nama] = jarakPabrik;
      jarakAntar[nama] = {};

      toko.forEach(t => {
        const val = parseFloat(document.getElementById(`jarak-${t}`).value);
        if (isNaN(val)) {
          alert('Lengkapi semua jarak antar toko');
          return;
        }
        jarakAntar[nama][t] = val;
        if (!jarakAntar[t]) jarakAntar[t] = {};
        jarakAntar[t][nama] = val;
      });

      toko.push(nama);
      document.getElementById('namaToko').value = '';
      document.getElementById('jarakPabrik').value = '';

      tambahInputJarak();
      updateMatrix();
    }

    function updateMatrix() {
      const thead = document.querySelector('#matrix thead');
      const tbody = document.querySelector('#matrix tbody');

      thead.innerHTML = '';
      tbody.innerHTML = '';

      let header = '<tr><th></th>';
      toko.forEach(t => header += `<th>${t}</th>`);
      header += '</tr>';
      thead.innerHTML = header;

      toko.forEach(i => {
        let row = `<tr><th>${i}</th>`;
        toko.forEach(j => {
          if (i === j) {
            row += '<td>0</td>';
          } else {
            const S = jarakP[i] + jarakP[j] - jarakAntar[i][j];
            row += `<td>${S.toFixed(2)}</td>`;
          }
        });
        row += '</tr>';
        tbody.innerHTML += row;
      });
    }
  </script>
</body>
</html>
